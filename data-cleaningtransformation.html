<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Cleaning/Transformation | NYC Neighborhood Internet Adoption</title>
  <meta name="description" content="Chapter 4 Data Cleaning/Transformation | NYC Neighborhood Internet Adoption" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Cleaning/Transformation | NYC Neighborhood Internet Adoption" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Cleaning/Transformation | NYC Neighborhood Internet Adoption" />
  
  
  

<meta name="author" content="Daniel de Castro, Sushant Prabhu, Kiyan Mohebbizadeh" />


<meta name="date" content="2022-12-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-value-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC Neighborhood Internet Adoption</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>3</b> Data Sources</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-sources.html"><a href="data-sources.html#neighborhood-internet-infrastructure-data"><i class="fa fa-check"></i><b>3.1</b> Neighborhood Internet Infrastructure Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-sources.html"><a href="data-sources.html#overview"><i class="fa fa-check"></i><b>3.1.1</b> Overview</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-sources.html"><a href="data-sources.html#details"><i class="fa fa-check"></i><b>3.1.2</b> Details</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-sources.html"><a href="data-sources.html#neighborhood-sociological-demographic-housing-and-economic-data"><i class="fa fa-check"></i><b>3.2</b> Neighborhood Sociological, Demographic, Housing, and Economic Data</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-sources.html"><a href="data-sources.html#overview-1"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-sources.html"><a href="data-sources.html#details-1"><i class="fa fa-check"></i><b>3.2.2</b> Details</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html"><i class="fa fa-check"></i><b>4</b> Data Cleaning/Transformation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#cleaning-up-join-columns"><i class="fa fa-check"></i><b>4.1</b> Cleaning Up Join Columns</a></li>
<li class="chapter" data-level="4.2" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#feature-reduction"><i class="fa fa-check"></i><b>4.2</b> Feature Reduction</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#internet"><i class="fa fa-check"></i><b>4.2.1</b> Internet</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#sociological"><i class="fa fa-check"></i><b>4.2.2</b> Sociological</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#demographic"><i class="fa fa-check"></i><b>4.2.3</b> Demographic</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#economic"><i class="fa fa-check"></i><b>4.2.4</b> Economic</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-cleaningtransformation.html"><a href="data-cleaningtransformation.html#housing"><i class="fa fa-check"></i><b>4.2.5</b> Housing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="missing-value-analysis.html"><a href="missing-value-analysis.html"><i class="fa fa-check"></i><b>5</b> Missing Value Analysis</a></li>
<li class="chapter" data-level="6" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>6</b> Results</a></li>
<li class="chapter" data-level="7" data-path="racial-stratification-in-internet-infrastructure.html"><a href="racial-stratification-in-internet-infrastructure.html"><i class="fa fa-check"></i><b>7</b> Racial Stratification in Internet Infrastructure</a></li>
<li class="chapter" data-level="8" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i><b>8</b> </a></li>
<li class="chapter" data-level="9" data-path="the-golden-door-to-cyberspace-internet-infrastructure-of-new-yorks-foreign-born.html"><a href="the-golden-door-to-cyberspace-internet-infrastructure-of-new-yorks-foreign-born.html"><i class="fa fa-check"></i><b>9</b> The Golden Door to Cyberspace: Internet Infrastructure of New York’s Foreign-Born</a></li>
<li class="chapter" data-level="10" data-path="trying-to-learn-remotely.html"><a href="trying-to-learn-remotely.html"><i class="fa fa-check"></i><b>10</b> Trying to Learn Remotely</a></li>
<li class="chapter" data-level="11" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>11</b> Interactive component</a></li>
<li class="chapter" data-level="12" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>12</b> Conclusion</a></li>
<li class="chapter" data-level="13" data-path="when-looking-at-the-distribution-of-of-internet-across-new-york-city-one-of-the-most-concerning-findings-is-the-relation-of-mean-income-and-internet-availability-and-adoption.-referring-to-the-graph-above-we-can-see-that-overall-a-higher-income-in-a-neighborhood-correlates-with-better-internet-availability-and-adoption.-this-signifies-a-continued-socioeconomic-imbalance-of-internet-adoption-in-new-york-city.-this-trend-is-especially-evident-in-the-bronx-with-the-highest-poverty-rates-lowest-income-and-the-lowest-internet-adoptiona-nd-availability-contrasted-with-manhattan-with-the-highest-income-levels-as-well-as-the-best-internet-coverage-and-adoption..html"><a href="when-looking-at-the-distribution-of-of-internet-across-new-york-city-one-of-the-most-concerning-findings-is-the-relation-of-mean-income-and-internet-availability-and-adoption.-referring-to-the-graph-above-we-can-see-that-overall-a-higher-income-in-a-neighborhood-correlates-with-better-internet-availability-and-adoption.-this-signifies-a-continued-socioeconomic-imbalance-of-internet-adoption-in-new-york-city.-this-trend-is-especially-evident-in-the-bronx-with-the-highest-poverty-rates-lowest-income-and-the-lowest-internet-adoptiona-nd-availability-contrasted-with-manhattan-with-the-highest-income-levels-as-well-as-the-best-internet-coverage-and-adoption..html"><i class="fa fa-check"></i><b>13</b> When looking at the distribution of of internet across New York City, one of the most concerning findings is the relation of mean income and internet availability and adoption. Referring to the graph above we can see that overall, a higher income in a neighborhood correlates with better internet availability and adoption. This signifies a continued socioeconomic imbalance of internet adoption in New York City. This trend is especially evident in The Bronx with the highest poverty rates, lowest income and the lowest internet adoptiona nd availability, contrasted with Manhattan, with the highest income levels as well as the best internet coverage and adoption.</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Neighborhood Internet Adoption</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-cleaningtransformation" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Cleaning/Transformation<a href="data-cleaningtransformation.html#data-cleaningtransformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We intentionally chose these datasets because of their interoperability. Because they use the same neighborhood definitions and unique identifiers, cleaning and joining these two datasets together was a relatively straightforward process. The code for this cleaning/transformation is located in /preprocessing.ipynb. Data can be found in /data/raw/ and data/clean/.</p>
<div id="cleaning-up-join-columns" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Cleaning Up Join Columns<a href="data-cleaningtransformation.html#cleaning-up-join-columns" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The Internet Dataset calls each neighborhood’s unique code a “Neighborhood Tabulation Area Code (NTA Code)”, while the housing/economic/demographic/social dataset refers to it as a “GeoID”. Due to the former’s unwieldiness, we regularized both to use “GeoID”. We also standardized both to use “Borough” rather than “Borough Name”. Finally, we changed all instances of “Borough”: “Bronx” to be “The Bronx” in the Internet dataset to match the style of the socioeconomic data. The result was a series of simple left joins between 5 dataframes with perfectly matching “GeoID” and “Borough” columns.</p>
</div>
<div id="feature-reduction" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Feature Reduction<a href="data-cleaningtransformation.html#feature-reduction" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Joining these datasets together as-is resulted in over 4,000 columns. As previously discussed, many of these were factor-level breakdowns of high-cardinality categorical variables (such as country of origin or language spoken at home). Most of these were not useful for our analysis, and so we decided to prune and aggregate them into data we could analyze easily in R. In general, we settled on using predominantly percentage-based variables whenever appropriate in order to better compare across neighborhoods. We also created several new columns by aggregating across existing ones. In general, this was done to assign each neighborhood a single value/category where it previously had several factor-level breakdowns, in order to better compare across neighborhoods.</p>
<div id="internet" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Internet<a href="data-cleaningtransformation.html#internet" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Of the 77 columns in the Internet dataset, we settled on the following columns for our analysis:</p>
<ul>
<li><p>“GeoID”</p></li>
<li><p>“Borough”</p></li>
<li><p>“neighborhood_name”</p></li>
<li><p>“Total Population”</p></li>
<li><p>“Population Density (per Sq. Mi.)”</p></li>
<li><p>“Total Number of Households”</p></li>
<li><p>“Home Broadband Adoption %”</p></li>
<li><p>“Mobile Broadband Adoption %”</p></li>
<li><p>“Mobile Dependent Households %”</p></li>
<li><p>“Residential Broadband Choice Average by NTA”</p></li>
<li><p>“Blocks with ISP Reported Speed Availability of &gt;=900 Mbps %”</p></li>
<li><p>“Public Wi-Fi in NYC Count”</p></li>
<li><p>“NYC Internet Master Plan Open Access Infrastructure Cost Comparison Coefficient”</p></li>
</ul>
</div>
<div id="sociological" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Sociological<a href="data-cleaningtransformation.html#sociological" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Of the 2,714 columns in the Sociological dataset, we settled on the following columns for our analysis:</p>
<ul>
<li><p>“GeoID”</p></li>
<li><p>“Borough”</p></li>
<li><p>“English only language %”</p></li>
<li><p>“Language other than English %”</p></li>
<li><p>“Native born in US %”</p></li>
<li><p>“Foreign born %”</p></li>
<li><p>“Completed Bachelors degree or higher %”</p></li>
</ul>
</div>
<div id="demographic" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Demographic<a href="data-cleaningtransformation.html#demographic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Of the 484 columns in the Demographic dataset, we settled on the following columns for our analysis:</p>
<ul>
<li><p>“GeoID”</p></li>
<li><p>“Borough”</p></li>
<li><p>“Population under 18 years %”</p></li>
<li><p>“Population over 64 years %”</p></li>
</ul>
<p>as well as a new column we created, “plurality_racial_group”, which we made by finding the highest-population racial group in each neighborhood. In effect, this converted 6 numerical columns into one categorical one.</p>
</div>
<div id="economic" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Economic<a href="data-cleaningtransformation.html#economic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Of the 659 columns in the Economic dataset, we settled on the following columns for our analysis:</p>
<ul>
<li><p>“GeoID”</p></li>
<li><p>“Borough”</p></li>
<li><p>“Per Capita Income (in $)”</p></li>
<li><p>“Families below poverty level %”</p></li>
<li><p>“Population employed in labor force %”</p></li>
</ul>
<p>as well as two new columns we created, “Work from Home - Capable” and “Work from Home - Incapable”, by adding up the proportions of workers in roles we deemed potentially doable from home via the Internet. We settled on management, business, sciences, arts, sales, and office workers as being WFH-capable and service, natural resources, construction, maintenance, production, and transportation workers as being WFH-incapable. We recognize that not all workers in the former can or do work from home, while some in the latter may.</p>
</div>
<div id="housing" class="section level3 hasAnchor" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> Housing<a href="data-cleaningtransformation.html#housing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Of the 524 columns in the Housing dataset, we settled on the following columns for our analysis:</p>
<ul>
<li><p>“GeoID”</p></li>
<li><p>“Borough”</p></li>
<li><p>“Median House gross rent (in $)”</p></li>
<li><p>“Median House value (in $)”</p></li>
<li><p>“Owner occupied Housing unit %”</p></li>
<li><p>“Renter occupied Housing unit %”</p></li>
<li><p>“Total occupied Housing unit %”</p></li>
</ul>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-value-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/danieldc98/NYCneighborhoodInternetAdoption/edit/main/data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/danieldc98/NYCneighborhoodInternetAdoption/blob/main/data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
